id: https://w3id.org/nmdc/nmdc
name: NMDC
title: NMDC Schema

notes:
  - not importing any MIxS terms where the relationship between the name (SCN) and the id isn't 1:1
description: >-
  Schema for National Microbiome Data Collaborative (NMDC).

  This schema is organized into multiple modules, such as:

   * a set of core types for representing data values
   * a subset of the mixs schema
   * an annotation schema
   * the NMDC schema itself, into which the other modules are imported

license: https://creativecommons.org/publicdomain/zero/1.0/
version: 0.0.0

imports:
  - annotation # also brings core and portal_*
  - workflow_execution_activity

prefixes:
  CATH: "https://bioregistry.io/cath:"
  CHEBI: "http://purl.obolibrary.org/obo/CHEBI_"
  CHEMBL.COMPOUND: "https://bioregistry.io/chembl.compound:" # https://bioregistry.io/chembl.compound:CHEMBL465070
  CHMO: "http://purl.obolibrary.org/obo/CHMO_"
  Contaminant: http://example.org/contaminant/ # present in MongoDB
  DRUGBANK: "https://bioregistry.io/drugbank:" # https://bioregistry.io/drugbank:DB14938
  EC: "https://bioregistry.io/eccode:" # https://bioregistry.io/eccode:1.1.1.1
  EFO: http://www.ebi.ac.uk/efo/
  EGGNOG: "https://bioregistry.io/eggnog:" # https://bioregistry.io/eggnog:veNOG12876
  ENVO: "http://purl.obolibrary.org/obo/ENVO_"
  FBcv: "http://purl.obolibrary.org/obo/FBcv_"
  FMA: "http://purl.obolibrary.org/obo/FMA_"
  GO: "http://purl.obolibrary.org/obo/GO_"
  HMDB: "https://bioregistry.io/hmdb:" # https://bioregistry.io/hmdb:HMDB00001
  ISA: http://example.org/isa/
  KEGG.ORTHOLOGY: "https://bioregistry.io/kegg.orthology:"  # https://github.com/prefixcommons/biocontext/blob/master/registry/idot_context.jsonld
  MASSIVE: "https://bioregistry.io/reference/massive:"
  MESH: "https://bioregistry.io/mesh:" # https://bioregistry.io/mesh:C063233
  MS: "http://purl.obolibrary.org/obo/MS_"
  MetaNetX: http://example.org/metanetx/
  NCBITaxon: "http://purl.obolibrary.org/obo/NCBITaxon_"
  NCIT: "http://purl.obolibrary.org/obo/NCIT_"
  OBI: http://purl.obolibrary.org/obo/OBI_
  ORCID: https://orcid.org/
  PANTHER.FAMILY: "https://bioregistry.io/panther.family:" # https://bioregistry.io/panther.family:PTHR12345
  PATO: "http://purl.obolibrary.org/obo/PATO_"
  PFAM: "https://bioregistry.io/pfam:" # https://bioregistry.io/pfam:PF11779
  PO: "http://purl.obolibrary.org/obo/PO_"
  PR: "http://purl.obolibrary.org/obo/PR_"
  PUBCHEM.COMPOUND: "https://bioregistry.io/pubchem.compound:"
  RO: "http://purl.obolibrary.org/obo/RO_"
  RetroRules: http://example.org/retrorules/
  SUPFAM: "https://bioregistry.io/supfam:" # 	https://bioregistry.io/supfam:SSF57615
  TIGRFAM: "https://bioregistry.io/tigrfam:" # https://bioregistry.io/tigrfam:TIGR00010
  UBERON: "http://purl.obolibrary.org/obo/UBERON_"
  UO: "http://purl.obolibrary.org/obo/UO_"
  bioproject: "https://identifiers.org/bioproject:"
  biosample: "https://bioregistry.io/biosample:"
  cas: "https://bioregistry.io/cas:"
  doi: "https://bioregistry.io/doi:"
  edam.data: "http://edamontology.org/data_"
  emsl.project: "https://bioregistry.io/emsl.project:"
  emsl: "http://example.org/emsl_in_mongodb/"
  emsl_uuid_like: "http://example.org/emsl_uuid_like/"
  generic: https://example.org/generic/
  gnps.task: "https://bioregistry.io/gnps.task:"
  gtpo: http://example.org/gtpo/
  igsn: https://app.geosamples.org/sample/igsn/
  img.taxon: "https://bioregistry.io/img.taxon:"
  jgi.analysis: "https://data.jgi.doe.gov/search?q="
  jgi.proposal: "https://bioregistry.io/jgi.proposal:"
  jgi: http://example.org/jgi/
  kegg: "https://bioregistry.io/kegg:" # https://bioregistry.io/kegg:hsa00190
  linkml: https://w3id.org/linkml/
  mgnify.proj: "https://bioregistry.io/mgnify.proj:"
  my_emsl: "https://release.my.emsl.pnnl.gov/released_data/"
  neon.identifier: http://example.org/neon/identifier/
  neon.schema: http://example.org/neon/schema/
  nmdc: https://w3id.org/nmdc/
  prov: http://www.w3.org/ns/prov#
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  skos: http://www.w3.org/2004/02/skos/core#
  wikidata: "http://www.wikidata.org/entity/"
  xsd: http://www.w3.org/2001/XMLSchema#

default_prefix: nmdc
default_range: string

emit_prefixes:
  - KEGG.ORTHOLOGY
  - MASSIVE
  - biosample
  - cas
  - doi
  - gnps.task
  - gold
  - img.taxon
  - jgi.proposal
  - kegg
  - rdf
  - rdfs
  - skos
  - xsd

settings:
  id_nmdc_prefix: "^(nmdc)"
  id_shoulder: "([0-9][a-z]{0,6}[0-9])"
  id_blade: "([A-Za-z0-9]{1,})"
  id_version: "(\\.[A-Za-z0-9]{1,})*"
  id_locus: "(_[A-Za-z0-9_\\.-]+)?$"

classes:
  NucleotideSequencing:
    class_uri: nmdc:NucleotideSequencing
    description: A DataGeneration in which the sequence of DNA or RNA molecules is generated.
    is_a: DataGeneration
    comments: For example data generated from an Illumina or Pacific Biosciences instrument.
    slots:
      - gold_sequencing_project_identifiers
      - insdc_bioproject_identifiers
      - insdc_experiment_identifiers
      - ncbi_project_name
      - target_gene
      - target_subfragment
    slot_usage:
      id:
        structured_pattern:
          syntax: "{id_nmdc_prefix}:(dgns|omprc)-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true

  FluidHandling:
    class_uri: nmdc:FluidHandling
    is_a: MaterialProcessing
    description: the process that defines how a processed sample is introduced into the mass spectrometer
    abstract: true

  DirectInfusionProcess:
    class_uri: nmdc:DirectInfusionProcess
    description: the process that defines how a processed sample is introduced into the mass spectrometer witout previous chromatographic separation
    is_a: FluidHandling
    slots:
      - direct_infusion_category

  MassSpectrometry:
    class_uri: nmdc:MassSpectrometry
    description: Spectrometry where the sample is converted into gaseous ions which are characterised by their mass-to-charge ratio and relative abundance.
    is_a: DataGeneration
    exact_mappings:
      - CHMO:0000470
    slots:
      - eluent_introduction
      - has_configuration
      - has_calibration
    slot_usage:
      id:
        structured_pattern:
          syntax: "{id_nmdc_prefix}:(dgms|omprc)-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true

  Configuration:
    abstract: true
    is_a: InformationObject
    class_uri: nmdc:Configuration
    description: A set of parameters that define the actions of a process and is shared among multiple instances of the process.
    notes:
      - This class is intended to represent the parameters within a method file (or similar) that control a process.

  MassSpectrometryConfiguration:
    is_a: Configuration
    class_uri: nmdc:MassSpectrometryConfiguration
    description: A set of parameters that define and control the actions of a mass spectrometry process. 
    notes:
      - This class is intended to represent a mass sepctrometry method file that controls a mass spectrometry process.
    slots:
      - acquisition_category
      - acquisition_strategy
      - resolution_categories
      - mass_analyzers
      - ionization_source
      - mass_spectrum_collection_modes
      - polarity_mode
    slot_usage:
      name:
        required: true
      description:
        required: true
      id:
        structured_pattern:
          syntax: "{id_nmdc_prefix}:(mscon)-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true
  
  FunctionalAnnotationAggMember:
    class_uri: "nmdc:FunctionalAnnotationAggMember"
    slots:
      - metagenome_annotation_id
      - gene_function_id
      - count
      - type

  Database:
    class_uri: nmdc:Database
    tree_root: true
    aliases:
      - NMDC metadata object
    description:
      An abstract holder for any set of metadata and data. It does not
      need to correspond to an actual managed database top level holder class. When
      translated to JSON-Schema this is the 'root' object. It should contain pointers
      to other objects of interest. For MongoDB, the lists of objects that Database
      slots point to correspond to **collections**.
    slots:
      - chemical_entity_set
      - planned_process_set
      - functional_annotation_agg
      - biosample_set
      - collecting_biosamples_from_site_set
      - data_object_set
      - extraction_set
      - field_research_site_set
      - functional_annotation_agg
      - functional_annotation_set
      - genome_feature_set
      - library_preparation_set
      - mags_set
      - metabolomics_analysis_set
      - metagenome_annotation_set
      - metagenome_assembly_set
      - metagenome_sequencing_set
      - metaproteomics_analysis_set
      - metatranscriptome_analysis_set
      - nom_analysis_set
      - data_generation_set
      - workflow_chain_set
      - planned_process_set
      - pooling_set
      - processed_sample_set
      - read_based_taxonomy_analysis_set
      - read_qc_analysis_set
      - study_set
      - workflow_execution_set
      - instrument_set
      - configuration_set
      - calibration_set

  Pooling:
    class_uri: nmdc:Pooling
    is_a: MaterialProcessing
    description: physical combination of several instances of like material.
    slots:
    exact_mappings:
      - OBI:0600016
    slot_usage:
      has_input:
        minimum_cardinality: 2
      has_output:
        minimum_cardinality: 1
        maximum_cardinality: 1
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:poolp-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true

  Extraction:
    class_uri: nmdc:Extraction
    is_a: MaterialProcessing
    description: A material separation in which a desired component of an input material is separated from the remainder.
    exact_mappings:
      - OBI:0302884
    slots:
      #      - extractant
      - substances_used
      - extraction_target
      - input_mass
      - volume
    slot_usage:
      has_output:
        required: true
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:extrp-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true
      volume:
        description: The volume of the solvent/solute being used, not the input.

  #  QualityControlReport:
  #    class_uri: nmdc:QualityControlReport
  #    slots:
  #      - status
  #      - name
  #      - type

  LibraryPreparation:
    class_uri: nmdc:LibraryPreparation
    aliases:
      - LibraryConstruction
    is_a: MaterialProcessing
    slots:
      - library_preparation_kit
      - library_type
      - pcr_cycles
      - nucl_acid_amp
      - pcr_cond
      - pcr_primers
    close_mappings:
      - OBI:0000711
    comments:
      - OBI:0000711 specifies a DNA input (but not ONLY a DNA input)
    slot_usage:
      has_output:
        required: true
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:libprp-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true
      pcr_cond:
        description: Description of reaction conditions and components of polymerase chain reaction performed during library preparation

  CollectingBiosamplesFromSite:
    class_uri: nmdc:CollectingBiosamplesFromSite
    is_a: PlannedProcess
    title: Collecting Biosamples From Site
    comments:
      - "this illustrates implementing a Biosample relation with a process class"
    close_mappings:
      - OBI:0000744
    slot_usage:
      has_input:
        range: Site
        required: true
      has_output:
        range: Biosample
        required: true
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:clsite-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true

  ProtocolExecution:
    class_uri: 'nmdc:ProtocolExecution'
    is_a: PlannedProcess
    description: A PlannedProces that has PlannedProcess parts. Can be used to represent the case of someone following a Protocol.
    slots:
      - has_process_parts
      - protocol_execution_category
    slot_usage:
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:pex-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true

  SubSamplingProcess:
    class_uri: 'nmdc:SubSamplingProcess'
    description: >
      Separating a sample aliquot from the starting material for downstream activity.
    related_mappings:
      - OBI:0000744
    notes:
      - A subsample may be (a) a portion of the sample obtained by selection or division;
        (b) an individual unit of the lot taken as part of the sample; (c) the final unit of multistage sampling.
        The term 'subsample' is used either in the sense of a 'sample of a sample' or as a synonym for 'unit'.
        In practice, the meaning is usually apparent from the context or is defined.
      - TODO - Montana to visit slot descriptions
    contributors:
      - ORCID:0009-0001-1555-1601 #Anastasiya Prymolenna
      - ORCID:0000-0002-8683-0050 #Montana Smith
      - ORCID:0000-0001-9076-6066 #Mark Miller
      - ORCID:0009-0008-4013-7737 #James Tessmer
    is_a: MaterialProcessing
    slots:
      - container_size
      - contained_in
      - temperature
      - volume
      - mass
      - sampled_portion
    slot_usage:
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:subspr-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true
      volume:
        description: The output volume of the SubSampling Process.
      mass:
        description: The output mass of the SubSampling Process.
      has_output:
        range: ProcessedSample
        description: The subsample.

  MixingProcess:
    class_uri: 'nmdc:MixingProcess'
    description: >
      The combining of components, particles or layers into a more homogeneous state.
    contributors:
      - ORCID:0009-0001-1555-1601 #Anastasiya Prymolenna
      - ORCID:0000-0002-8683-0050 #Montana Smith
    is_a: MaterialProcessing
    comments:
      - The mixing may be achieved manually or mechanically by shifting the material with stirrers or pumps
        or by revolving or shaking the container.
      - The process must not permit segregation of particles of different size or properties.
      - Homogeneity may be considered to have been achieved in a practical sense when the sampling error
        of the processed portion is negligible compared to the total error of the measurement system.
    slots:
      - duration
    slot_usage:
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:mixpro-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true
      has_output:
        range: ProcessedSample
        description: The mixed sample.

  FiltrationProcess:
    class_uri: 'nmdc:FiltrationProcess'
    description: >-
      The process of segregation of phases; e.g. the separation of suspended solids from a liquid or gas, usually by forcing a carrier gas or liquid through a porous medium.
    related_mappings:
      - CHMO:0001640
    contributors:
      - ORCID:0009-0001-1555-1601 #Anastasiya Prymolenna
      - ORCID:0000-0002-8683-0050 #Montana Smith
      - ORCID:0000-0001-9076-6066 #Mark Miller
      - ORCID:0009-0008-4013-7737 #James Tessmer
    is_a: MaterialProcessing
    slots:
      - conditionings
      - container_size
      - filter_material
      - filter_pore_size
      - filtration_category
      - is_pressurized
      - separation_method
      - volume
    slot_usage:
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:filtpr-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true
      volume:
        description: The volume of sample filtered.

  StorageProcess:
    class_uri: 'nmdc:StorageProcess'
    description: >-
      A planned process with the objective to preserve and protect material entities by placing them in an identified 
      location which may have a controlled environment.
    is_a: PlannedProcess
    related_mappings: 
      - OBI:0302893
    slots:
      - substances_used
      - contained_in
      - temperature
    slot_usage:
      substances_used:
        description: The substance(s) that a processed sample is stored in. 

  ChromatographicIntroductionProcess:
    class_uri: 'nmdc:ChromatographicIntroductionProcess'
    description:
      The process of using a chromatographic introduction system paired with a mass spectrometery instance.
      #TODO KRH: review this definition
    contributors:
      - ORCID:0009-0001-1555-1601 #Anastasiya Prymolenna
      - ORCID:0000-0002-1368-8217 #Yuri Corilo
      - ORCID:0000-0002-4504-1039 #Katherine Heal
    is_a: FluidHandling
    slots:
      - has_calibration
      - chromatographic_category
      - ordered_mobile_phases
      - stationary_phase
      - temperature
    rules:
      - title: has_calibration_required_if_gc
        description: >-
          If chromatographic_category is gas_chromatography, then has_calibration is required.
        preconditions:
          slot_conditions:
            chromatographic_category:
              equals_string: gas_chromatography
        postconditions:
          slot_conditions:
            has_calibration:
              required: true
    slot_usage:
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:cspro-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          #TODO KRH: review this pattern, and adjust in examples
          interpolated: true

  SolidPhaseExtraction:
    class_uri: 'nmdc:SolidPhaseExtraction'
    description:
      The process of using a selective partitioning of the analyte or interferent between two immiscible phases.
    contributors:
      - ORCID:0009-0001-1555-1601 #Anastasiya Prymolenna
      - ORCID:0000-0002-1368-8217 #Yuri Corilo
      - ORCID:0000-0002-4504-1039 #Katherine Heal
    is_a: Extraction
    slots:
      - has_calibration
      - ordered_mobile_phases
      - stationary_phase
      - temperature
    slot_usage:
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:cspro-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          #TODO KRH: review this pattern, and adjust in examples
          interpolated: true

  DissolvingProcess:
    class_uri: 'nmdc:DissolvingProcess'
    aliases:
      - Solubilization
    description: >
      A mixing step where a soluble component is mixed with a liquid component.
    exact_mappings:
      - CHMO:0002773
    contributors:
      - ORCID:0009-0001-1555-1601 #Anastasiya Prymolenna
      - ORCID:0000-0002-1368-8217 #Yuri Corilo
    is_a: MaterialProcessing
    slots:
      #      - solvent
      #      - solubilizing_agent
      - duration
      - temperature
      - substances_used # whether a substance was used as a solvent or a solubilizing_agent will be captured in substance_role
    slot_usage:
      id:
        required: true
        structured_pattern:
          syntax: "{id_nmdc_prefix}:dispro-{id_shoulder}-{id_blade}{id_version}{id_locus}"
          interpolated: true

enums:

  AcquisitionCategoryEnum:
    permissible_values:
      full_scan:
        aliases:
          - MS
      tandem_mass_spectrum:
        aliases:
          -MSn

  AcquisitionStrategyEnum:
    permissible_values:
      data_independent_acquisition:
        aliases:
          - DIA
      data_dependent_acquisition:
        aliases:
          -DDA

  ResolutionCategoryEnum:
    permissible_values:
      high: { }
      low: { }

  MassAnalyzerEnum:
    permissible_values:
      time_of_flight:
        aliases:
          - TOF
      quadrupole:
        aliases:
          - Quad
          - Q
      Orbitrap:
        aliases:
          - Orbi
      ion_cyclotron_resonance:
        aliases:
          - ICR
      ion_trap:
        aliases:
          - LTQ
          - Ion Trap
          - Paul Trap

  IonizationSourceEnum:
    permissible_values:
      electrospray_ionization:
        aliases:
          - ESI
      matrix_assisted_laser_desorption_ionization:
        aliases:
          - MALDI
      athmospheric_pressure_photo_ionization:
        aliases:
          - APPI
      athmospheric_pressure_chemical_ionization:
        aliases:
          - APCI
      electron_ionization:
        aliases:
          - EI

  MassSpectrumCollectionModeEnum:
    permissible_values:
      full_profile: { }
      reduced_profile: { }
      centroid: { }

  PolarityModeEnum:
    permissible_values:
      positive: { }
      negative: { }

  LibraryTypeEnum:
    # start using the right case for enum names
    # we have other slots which need a DNA or RNA answer, so maybe we should make this enum name more generic
    permissible_values:
      DNA: { }
      RNA: { }

  ContainerCategoryEnum:
    description: The permitted types of containers used in processing metabolomic samples.
    contributors:
      - ORCID:0009-0001-1555-1601 #Anastasiya Prymolenna
      - ORCID:0000-0002-8683-0050 #Montana Smith
    permissible_values:
      v-bottom_conical_tube:
      falcon_tube:

  SeparationMethodEnum:
    description: The tool/substance used to separate or filter a solution or mixture.
    contributors:
      - ORCID:0009-0001-1555-1601 #Anastasiya Prymolenna
      - ORCID:0000-0002-8683-0050 #Montana Smith
    permissible_values:
      ptfe_96_well_filter_plate:

  #  SolventEnum:
  #    description: The solvents that may be used in processing metabolomic samples.
  #    permissible_values:
  #      deionized Water:
  #      methanol:
  #      chloroform:
  #      ammonium bicarbonate buffer:
  #      methoxyamine:
  #      MeOH/H2O:
  #      MeOH:
  #      Potassium sulfate:
  #      ethanol-free chloroform:
  #      bray extract solution:
  #      olsen extract solution:
  #      Milli-Q H2O:
  #      ultrapure water:
  #      MSTFA:
  #      cloridic acid:
  #      Water:

  StationaryPhaseEnum:
    description: The type of stationary phase used in a chromatography process.
    contributors:
      - ORCID:0009-0001-1555-1601 #Anastasiya Prymolenna
      - ORCID:0000-0002-4504-1039 #Katherine Heal
    permissible_values:
      BEH-HILIC:
      C18:
      C8:
      C4:
      C2:
      C1:
      C30:
      C60:
      CNT:
      CN:
      Diol:
      HILIC:
      NH2:
      Phenyl:
      Polysiloxane:
      PS-DVB:
      SAX:
      SCX:
      Silica:
      WCX:
      WAX:
      ZIC-HILIC:
      ZIC-pHILIC:
      ZIC-cHILIC:

  ProtocolCategoryEnum:
    description: The possible protocols that may be followed for an assay.
    permissible_values:
      mplex:
      derivatization:
      filter_clean_up:
      organic_matter_extraction:
      solid_phase_extraction:
      phosphorus_extraction:
      ph_measurement:
      respiration_measurement:
      texture_measurement:
      dna_extraction:
      phenol_chloroform_extraction: { }

  ChromatographicCategoryEnum:
    permissible_values:
      liquid_chromatography:
        aliases:
          - LC
      gas_chromatography:
        aliases:
          - GC
      solid_phase_extraction:
        aliases:
          - SPE
  
  SamplePortionEnum:
    permissible_values:
      supernatant:
        aliases:
          - top_layer
      pellet:
        aliases:
          - bottom_layer
      organic_layer:
      aqueous_layer:
      non_polar_layer:

      
slots:

  polarity_mode:
    range: PolarityModeEnum
    description: the polarity of which ions are generated and detected

  mass_spectrum_collection_modes:
    range: MassSpectrumCollectionModeEnum
    description: Indicates whether mass spectra were collected in full profile, reduced profile, or centroid mode during acquisition.
    multivalued: true

  ionization_source:
    range: IonizationSourceEnum
    description: which kind of ionization source is used to introduce analytes into a mass spectrometer

  mass_analyzers:
    range: MassAnalyzerEnum
    description: which kind of mass analyzer(s) used during the spectra collection.
    multivalued: true

  resolution_categories:
    range: ResolutionCategoryEnum
    description: whether mass spectra are collected at higher than unit resolution
    multivalued: true

  acquisition_strategy:
    range: AcquisitionStrategyEnum
    description: whether spectra are dependent on or independent of any other spectra during the experiment

  acquisition_category:
    range: AcquisitionCategoryEnum
    description: whether only survey or tandem mass spectra are part of the experiment

  eluent_introduction:
    range: FluidHandling
    description: how a processed sample is introduced into a mass spectrometer, for example liquid chromatography or direct infusion through a syringe

  has_configuration:
    range: Configuration
    description: a set of parameters that define the actions of the process

  metagenome_annotation_id:
    domain: FunctionalAnnotationAggMember
    range: WorkflowExecution
  #    range: WorkflowExecutionActivity
  #    description: The identifier for the analysis activity (WorkflowExecutionActivity) that generated the functional annotation results.
  #    required: true

  gene_function_id:
    range: uriorcurie
    description: The identifier for the gene function.
    examples:
      - value: KEGG.ORTHOLOGY:K00627
    required: true
  count:
    range: integer
    required: true
  functional_annotation_agg:
    domain: Database
    range: FunctionalAnnotationAggMember
    multivalued: true
    inlined: true
    inlined_as_list: true

  ecosystem_path_id:
    range: string
    description: A unique id representing the GOLD classifiers associated with a sample.

  sample_collection_year:
    range: integer
  sample_collection_month:

  library_preparation_kit:
    range: string

  ## WHY ARE THESE COMMENTED OUT?
  #    exact_mappings:
  #      - GENEPIO:0001450
  #  processed_date: # can we move this or infer this from the date of some other process?
  #    #    range: date
  #    range: string
  #  extraction_date: # replacing with start_ and end_date
  #    #    range: date
  #    range: string

  pcr_cycles:
    range: integer
    exact_mappings:
      - OBI:0002475

  input_mass:
    title: sample mass used
    description: Total mass of sample used in activity.
    aliases:
      - sample mass
      - sample weight
    exact_mappings:
      - MS:1000004
    narrow_mappings:
      - MIXS:0000111
    domain: PlannedProcess
    range: QuantityValue

  library_type:
    title: library type
    examples:
      - value: DNA
    domain: LibraryPreparation
    range: LibraryTypeEnum

  date_created:
    description: from database class
  etl_software_version:
    description: from database class

  object_set:
    domain: Database # not inherited by mixin users
    inlined_as_list: true
    mixin: true
    multivalued: true
    description:
      Applies to a property that links a database object to a set of objects.
      This is necessary in a json document to provide context for a list, and to allow
      for a single json object that combines multiple object types
  chemical_entity_set:
    domain: Database # not inherited by mixin users
    mixins:
      - object_set
    range: ChemicalEntity
    description:
      This property links a database object to the set of chemical entities
      within it.
  planned_process_set:
    domain: Database # not inherited by mixin users
    mixins:
      - object_set
    range: PlannedProcess
    description:
      This property links a database object to the set of planned processes
      within it.
  biosample_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: Biosample
    description:
      This property links a database object to the set of samples within
      it.
  study_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: Study
    description:
      This property links a database object to the set of studies within
      it.
  field_research_site_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: FieldResearchSite
  collecting_biosamples_from_site_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: CollectingBiosamplesFromSite
  data_object_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: DataObject
    description:
      This property links a database object to the set of data objects
      within it.
  genome_feature_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: GenomeFeature
    description: This property links a database object to the set of all features
  functional_annotation_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: FunctionalAnnotation
    description:
      This property links a database object to the set of all functional
      annotations
  workflow_execution_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: WorkflowExecution
    description: This property links a database object to the set of workflow activities.
  mags_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: MagsAnalysis
    description:
      This property links a database object to the set of MAGs analysis
      activities.
  metabolomics_analysis_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: MetabolomicsAnalysis
    description:
      This property links a database object to the set of metabolomics
      analysis activities.
  metaproteomics_analysis_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: MetaproteomicsAnalysis
    description:
      This property links a database object to the set of metaproteomics
      analysis activities.
  metagenome_annotation_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: MetagenomeAnnotation
    description:
      This property links a database object to the set of metagenome annotation
      activities.
  metagenome_assembly_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: MetagenomeAssembly
    description:
      This property links a database object to the set of metagenome assembly
      activities.
  metagenome_sequencing_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: MetagenomeSequencing
    description:
      This property links a database object to the set of metagenome sequencing
      activities.
  metatranscriptome_analysis_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: MetatranscriptomeAnalysis
    description:
      This property links a database object to the set of metatranscriptome
      analysis activities.
  read_qc_analysis_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: ReadQcAnalysis
    description:
      This property links a database object to the set of read QC analysis
      activities.
  read_based_taxonomy_analysis_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: ReadBasedTaxonomyAnalysis
    description: >-
      This property links a database object to the set of read based analysis activities.
  nom_analysis_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: NomAnalysis
    description:
      This property links a database object to the set of natural organic
      matter (NOM) analysis activities.
  data_generation_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: DataGeneration
    description:
      This property links a database object to the set of omics processings
      within it.
  workflow_chain_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: WorkflowChain
    description:
      This property links a database object to the set of workflow chains
      within it.
  pooling_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: Pooling
  processed_sample_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: ProcessedSample
    description: This property links a database object to the set of processed samples within it.
  extraction_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: Extraction
    description: This property links a database object to the set of extractions within it.
  library_preparation_set:
    domain: Database # not inherited by mixin users
    aliases:
      - library_construction_set
    mixins: object_set
    range: LibraryPreparation
    description: This property links a database object to the set of DNA extractions within it.
  instrument_set:
    domain: Database # not inherited by mixin users
    mixins: object_set
    range: Instrument
    description: This property links a database object to the set of instruments within it.
  calibration_set:
    mixins: object_set
    range: CalibrationInformation
    description: This property links a database object to the set of calibrations within it.
  configuration_set:
    mixins: object_set
    range: Configuration
    description: This property links a database object to the set of configurations within it.

  omics_type:
    deprecated_element_has_exact_replacement: analyte_category
    domain: DataGeneration
    range: ControlledTermValue
    description: The type of omics data
    examples:
      - value: metatranscriptome
      - value: metagenome

  sample_collection_day:
    range: integer
  sample_collection_hour:
    range: integer
  sample_collection_minute:
    range: integer

  biogas_temperature:
    range: string
  soil_annual_season_temp:
    range: string

  biogas_retention_time:
    range: string

  completion_date:
    range: string

  container_size:
    range: QuantityValue
    description: The volume of the container an analyte is stored in or an activity takes place in
    contributors:
      - ORCID:0009-0001-1555-1601 #Anastasiya Prymolenna
      - ORCID:0000-0002-8683-0050 #Montana Smith

  protocol_execution_category:
    domain: ProtocolExecution
    range: ProtocolCategoryEnum
    required: true

  has_process_parts:
    domain: ProtocolExecution
    range: PlannedProcess
    description: A list of process parts that make up a protocol.
    required: true
    multivalued: true
    list_elements_ordered: true

  filter_material:
    description: "A porous material on which solid particles present in air or other fluid which flows through it are largely caught and retained."
    comments:
      - "Filters are made with a variety of materials: cellulose and derivatives, glass fibre, ceramic, synthetic plastics and fibres. Filters may be naturally porous or be made so by mechanical or other means. Membrane/ceramic filters are prepared with highly controlled pore size in a sheet of suitable material such as polyfluoroethylene, polycarbonate or cellulose esters. Nylon mesh is sometimes used for reinforcement. The pores constitute 80–85% of the filter volume commonly and several pore sizes are available for air sampling (0.45−0.8 μm are commonly employed)."
    range: string
  filter_pore_size:
    domain: FiltrationProcess
    range: QuantityValue
    description: "A quantitative or qualitative measurement of the physical dimensions of the pores in a material."
  conditionings:
    range: string
    description: "Preliminary treatment of either phase with a suitable solution of the other phase (in the absence of main extractable solute(s)) so that when the subsequent equilibration is carried out changes in the (volume) phase ratio or in the concentrations of other components are minimized."
    multivalued: true
    list_elements_ordered: true
  separation_method:
    domain: FiltrationProcess
    range: SeparationMethodEnum
    description: The method that was used to separate a substance from a solution or mixture.
  filtration_category:
    range: string
    description: The type of conditioning applied to a filter, device, etc.
  material_component_separation:
    range: string
    description: "A material processing in which components of an input material become segregated in space"
  value:
    range: QuantityValue
  modifier_substance:
    range: string
    description: The type of modification being done
  is_pressurized:
    range: boolean
    description: Whether or not pressure was applied to a thing or process.

  contained_in:
    range: ContainerCategoryEnum
    description: A type of container. i.e. test tube, falcon tube, etc.
  #  extractant:
  #    domain: Extraction
  #    range: Solution
  #    description: "The active component(s) primarily responsible for transfer of a solute from one phase to the other."

  input_volume: # see also `volume`
    domain: PlannedProcess
    range: QuantityValue
    description: The volume of the input sample.

  ordered_mobile_phases:
    domain: ChromatographicIntroductionProcess
    range: MobilePhaseSegment
    description: The solution(s) that moves through a chromatography column.
    multivalued: true
    list_elements_ordered: true
    inlined_as_list: true

  stationary_phase:
    domain: ChromatographicIntroductionProcess
    range: StationaryPhaseEnum
    description: The material the stationary phase is comprised of used in chromatography.
  chromatographic_category:
    domain: ChromatographicIntroductionProcess
    range: ChromatographicCategoryEnum
    description: The type of chromatography used in a process.

#  solvent: # see SubstanceRoleEnum
#    domain: DissolvingProcess
#    #    range: Solution
#    any_of:
#      - range: Solution
#      - range: PortionOfSubstance
#    required: true
#    description: A liquid that can dissolve other substances (solutes) without any change in their chemical composition.
#    exact_mappings:
#      - CHEBI:46787
#
#  solubilizing_agent: # see SubstanceRoleEnum
#    domain: DissolvingProcess
#    #    range: CompoundEnum
#    range: PortionOfSubstance # or chemical entity?
#    description: A substance within a formulation that enhances the solubility of another substance.
#    exact_mappings:
#      - NCIT:C176640
  sampled_portion:
    domain: SubSamplingProcess
    range: SamplePortionEnum
    multivalued: true
    description: The portion of the sample that is taken for downstream activity.
