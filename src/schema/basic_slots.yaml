id: https://w3id.org/nmdc/basic_slots
name: NMDC-Basic-Slots
title: Basic Slots for NMDC Schema
description: >-
  Basic Linkml slots that are used across the Schema for National Microbiome Data Collaborative (NMDC).
  Examples include "id", "name", "description". These slots have primitive data types (e.g., sting) as ranges.

license: https://creativecommons.org/publicdomain/zero/1.0/

prefixes:
  dcterms: http://purl.org/dc/terms/

  skos: http://www.w3.org/2004/02/skos/core#
  linkml: https://w3id.org/linkml/
  nmdc: https://w3id.org/nmdc/

imports:
  - nmdc_types

default_prefix: nmdc
default_range: string

slots:

  websites:
    range: string
    multivalued: true
    pattern: ^[Hh][Tt][Tt][Pp][Ss]?:\/\/(?!.*[Dd][Oo][Ii]\.[Oo][Rr][Gg]).*$
    description: A list of websites that are associated with the entity.
    comments:
      - DOIs should not be included as websites. Instead, use the associated_dois slot.
      - A consortium's homepage website should be included in the homepage_website slot, not in websites.

  homepage_website:
    is_a: websites
    maximum_cardinality: 1
    description: The website address (URL) of an entity's homepage.
    examples:
      - value: https://www.neonscience.org/

  profile_image_url:
    description: A url that points to an image of a person.
    range: string

  orcid:
    description: The ORCID of a person.
    range: string

  email:
    description: >-
      An email address for an entity such as a person.
      This should be the primary email address used.
    range: string
    slot_uri: schema:email

  display_order:
    range: integer
    description: When rendering information, this attribute to specify the order in which the information should be rendered.

  url:
    range: string
    notes:
      - See issue 207 - this clashes with the mixs field

  language:
    range: language code
    description: Should use ISO 639-1 code e.g. "en", "fr"

  has_raw_value:
    description: The value that was specified for an annotation in raw form, i.e. a string. E.g. "2 cm" or "2-4 cm"
    range: string

  has_unit:
    description: Links a QuantityValue to a unit
    aliases:
      - scale
    range: unit
    mappings:
      - qud:unit
      - schema:unitCode

  has_numeric_value:
    description: Links a quantity value to a number
    range: float
    mappings:
      - qud:quantityValue
      - schema:value

  has_minimum_numeric_value:
    is_a: has_numeric_value
    description: The minimum value part, expressed as number, of the quantity value when the value covers a range.

  has_maximum_numeric_value:
    is_a: has_numeric_value
    description: The maximum value part, expressed as number, of the quantity value when the value covers a range.

  has_boolean_value:
    description: Links a quantity value to a boolean
    range: boolean

  latitude:
    range: decimal degree
    description: latitude
    slot_uri: wgs84:lat
    examples:
      - value: "-33.460524"
    mappings:
      - schema:latitude

  longitude:
    range: decimal degree
    description: longitude
    slot_uri: wgs84:long
    examples:
      - value: "150.168149"
    mappings:
      - schema:longitude

  infiltrations:
    description: The amount of time it takes to complete each infiltration activity
    examples:
      - value: [ '00:01:32', '00:00:53' ]
    aliases:
      - infiltration_1
      - infiltration_2
    multivalued: true
    list_elements_ordered: true
    range: string
    pattern: ^(?:[0-9]|[1-9][0-9]|9[0-9]|0[0-9]|0[0-5][0-9]):[0-5][0-9]:[0-5][0-9]$
    see_also:
      - https://www.protocols.io/view/field-sampling-protocol-kqdg3962pg25/v1

  soluble_iron_micromol:
    range: string

  sample_collection_site:
    range: string

  salinity_category:
    description:
      "Categorical description of the sample's salinity. Examples: halophile,
        halotolerant, hypersaline, huryhaline"
    range: string
    see_also:
      - https://github.com/microbiomedata/nmdc-metadata/pull/297
    notes:
      - "maps to gold:salinity"

  proport_woa_temperature:
    range: string

  location:
    range: string

  host_name:
    range: string

  community:
    range: string

  embargoed:
    description: >-
      If true, the data are embargoed and not available for public access.
    range: boolean
    recommended: true
    todos:
      - make this required?
      - first apply to Biosample
      - try to apply to all Biosamples in a particular nmdc-server SubmissionMetadata?
      - applying to a Study may not be granular enough

  habitat:
    range: string

  version:
    range: string

  doi_value:
    description: >-
      A digital object identifier, which is intended to persistantly identify some resource on the web.
    required: true
    aliases:
      - DOI
      - digital object identifier
    in_subset: data_portal_subset
    range: uriorcurie
    pattern: '^doi:10.\d{2,9}/.*$'
    examples:
      - value: doi:10.46936/10.25585/60000880
        description: The DOI links to an electronic document.
    exact_mappings:
      - OBI:0002110
    narrow_mappings:
      - edam.data:1188

  doi_provider:
    description: >-
      The authority, or organization, the DOI is associated with.
    range: DoiProviderEnum
    close_mappings:
      - NCIT:C74932
    in_subset: data_portal_subset
    examples:
      - value: ess_dive
        description: The corresponding DOI is associated with ESS-DIVE.

  doi_category:
    description: >-
      The resource type the corresponding doi resolves to.
    range: DoiCategoryEnum
    required: true
    in_subset: data_portal_subset
    examples:
      - value: dataset_doi
        description: The corresponding DOI is a dataset resource type.

  related_identifiers:
    title: Related Identifiers
    description: Identifiers assigned to a thing that is similar to that which is represented in NMDC. Related identifier are not an identical match and may have some variation.

  notes:
    description: from study class

  funding_sources:
    multivalued: true
    range: string
    description: >-
      A list of organizations, along with the award numbers, that underwrite financial support for projects of
      a particular type. Typically, they process applications and award funds to the chosen qualified
      applicants.
    comments:
      - Include only the name of the funding organization and the award or contract number.
    examples:
      - value: National Sciences Foundation Dimensions of Biodiversity (award no. 1342701)
      - value: >-
          U.S. Department of Energy, Office of Science, Office of Biological and Environmental Research
          (BER) under contract DE-AC05-00OR2275
    close_mappings:
      - NCIT:C39409

  ## GOLD PATHS
  gold_path_field:
    range: string
    abstract: true
    description: >-
      This is a grouping for any of the gold path fields
  ecosystem:
    is_a: gold_path_field
    description:
      An ecosystem is a combination of a physical environment (abiotic
      factors) and all the organisms (biotic factors) that interact with this environment.
      Ecosystem is in position 1/5 in a GOLD path.
    comments:
      - The abiotic factors play a profound role on the type and composition
        of organisms in a given environment. The GOLD Ecosystem at the top of the five-level
        classification system is aimed at capturing the broader environment from which
        an organism or environmental sample is collected. The three broad groups under
        Ecosystem are Environmental, Host-associated, and Engineered. They represent
        samples collected from a natural environment or from another organism or from
        engineered environments like bioreactors respectively.
    see_also: https://gold.jgi.doe.gov/help
  ecosystem_category:
    is_a: gold_path_field
    description:
      Ecosystem categories represent divisions within the ecosystem based
      on specific characteristics of the environment from where an organism or sample
      is isolated. Ecosystem category is in position 2/5 in a GOLD path.
    comments:
      - The Environmental ecosystem (for example) is divided into Air, Aquatic
        and Terrestrial. Ecosystem categories for Host-associated samples can be individual
        hosts or phyla and for engineered samples it may be manipulated environments
        like bioreactors, solid waste etc.
    see_also: https://gold.jgi.doe.gov/help
  ecosystem_type:
    is_a: gold_path_field
    description:
      Ecosystem types represent things having common characteristics within
      the Ecosystem Category. These common characteristics based grouping is still
      broad but specific to the characteristics of a given environment. Ecosystem
      type is in position 3/5 in a GOLD path.
    comments:
      - The Aquatic ecosystem category (for example) may have ecosystem types
        like Marine or Thermal springs etc. Ecosystem category Air may have Indoor air
        or Outdoor air as different Ecosystem Types. In the case of Host-associated
        samples, ecosystem type can represent Respiratory system, Digestive system,
        Roots etc.
    see_also: https://gold.jgi.doe.gov/help
  ecosystem_subtype:
    is_a: gold_path_field
    description:
      Ecosystem subtypes represent further subdivision of Ecosystem types
      into more distinct subtypes. Ecosystem subtype is in position 4/5 in a GOLD
      path.
    comments:
      - Ecosystem Type Marine (Environmental -> Aquatic -> Marine) is further
        divided (for example) into Intertidal zone, Coastal, Pelagic, Intertidal zone
        etc. in the Ecosystem subtype category.
    see_also: https://gold.jgi.doe.gov/help
  specific_ecosystem:
    is_a: gold_path_field
    description:
      Specific ecosystems represent specific features of the environment
      like aphotic zone in an ocean or gastric mucosa within a host digestive system.
      Specific ecosystem is in position 5/5 in a GOLD path.
    comments:
      - Specific ecosystems help to define samples based on very specific characteristics
        of an environment under the five-level classification system.
    see_also: https://gold.jgi.doe.gov/help


  add_date:
    range: string
    description: The date on which the information was added to the database.

  mod_date:
    range: string
    description: The last date on which the database information was modified.

  ncbi_taxonomy_name:
    range: string
  ncbi_project_name:
    range: string

  processing_institution:
    range: ProcessingInstitutionEnum
    description: The organization that processed the sample.

  qc_status:
    description: Stores information about the result of a process (ie the process of sequencing a library may have for qc_status of 'fail' if not enough data was generated)
    range: StatusEnum

  file_size_bytes:
    range: bytes
    description: Size of the file in bytes

  analyte_category:
    required: true
    description: >
      The type of analyte(s) that were measured in the data generation process and analyzed
        in the Workflow Chain
    range: AnalyteCategoryEnum

  direct_infusion_category:
    range: DirectInfusionEnum
    description: used when a processed sample is introduced into a mass spectrometer without chromatographic separation

  type:
    required: true
    range: uriorcurie
    slot_uri: rdf:type
    description: the id of the class that is instantiated by some data
    notes:
      - replacing legacy nmdc:type slot
      - will make examples files clearer
      - required for polymorphic MongoDB collections
    see_also:
      - https://github.com/microbiomedata/nmdc-schema/issues/1048
      - https://github.com/microbiomedata/nmdc-schema/issues/1233
      - https://github.com/microbiomedata/nmdc-schema/issues/248
    examples:
      - value: nmdc:Biosample
      - value: nmdc:Study
    designates_type: true

  external_database_identifiers:
    abstract: true
    description: Link to corresponding identifier in external database
    is_a: alternative_identifiers
    multivalued: true
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'
    range: external_identifier
    comments:
      - The value of this field is always a registered CURIE
    notes:
      - "had tried ranges of external identifier and string"
    close_mappings:
      - skos:closeMatch

  dna_concentration:
    see_also:
      - nmdc:nucleic_acid_concentration
    title: DNA concentration in ng/ul
    comments:
      - Units must be in ng/uL. Enter the numerical part only. Must be calculated using
        a fluorometric method. Acceptable values are 0-2000.
    examples:
      - value: '100'
    from_schema: https://example.com/nmdc_dh
    rank: 5
    range: float
    slot_group: JGI-Metagenomics
    recommended: true
    minimum_value: 0
    maximum_value: 2000

  extraction_target:
    description: Provides the target biomolecule that has been separated from a sample during an extraction process.
    rank: 1000
    range: ExtractionTargetEnum
    notes:
      - todos, remove nucl_acid_ext from OmicsProcessing (DataGeneration)
    narrow_mappings:
      - NCIT:C177560
      - MIXS:0000037

  id:
    required: true
    identifier: true
    range: uriorcurie
    description: >-
      A unique identifier for a thing.
      Must be either a CURIE shorthand for a URI or a complete URI
    notes:
      - "abstracted pattern: prefix:typecode-authshoulder-blade(.version)?(_seqsuffix)?"
      - 'a minimum length of 3 characters is suggested for typecodes, but 1 or 2 characters will be accepted'
      - 'typecodes must correspond 1:1 to a class in the NMDC schema. this will be checked via per-class id slot usage assertions'
      - 'minting authority shoulders should probably be enumerated and checked in the pattern'
    examples:
      - value: nmdc:mgmag-00-x012.1_7_c1
        description: 'https://github.com/microbiomedata/nmdc-schema/pull/499#discussion_r1018499248'
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'

  name:
    range: string
    description: >-
      A human readable label for an entity

  description:
    range: string
    description: >-
      a human-readable description of a thing
    slot_uri: dcterms:description

  title:
    range: string
    description: >-
      A name given to the entity that differs from the name/label programmatically assigned to it.
      For example, when extracting study information for GOLD, the GOLD system has assigned a name/label.
      However, for display purposes, we may also wish the capture the title of the proposal that was used to fund the study.
    exact_mappings:
      - dcterms:title

  alternative_titles:
    range: string
    multivalued: true
    description: >-
      A list of alternative titles for the entity.
      The distinction between title and alternative titles is application-specific.
    exact_mappings:
      - dcterms:alternative

  alternative_names:
    range: string
    multivalued: true
    description: >-
      A list of alternative names used to refer to the entity.
      The distinction between name and alternative names is application-specific.
    exact_mappings:
      - dcterms:alternative
      - skos:altLabel

  alternative_descriptions:
    range: string
    multivalued: true
    description: >-
      A list of alternative descriptions for the entity.
      The distinction between description and alternative descriptions is application-specific.

  alternative_identifiers:
    range: uriorcurie
    multivalued: true
    description: >-
      A list of alternative identifiers for the entity.
    pattern: '^[a-zA-Z0-9][a-zA-Z0-9_\.]+:[a-zA-Z0-9_][a-zA-Z0-9_\-\/\.,]*$'

  start_date:
    range: string
    description: The date on which any process or activity was started
    comments:
      - We are using string representations of dates until all components of our ecosystem can handle ISO 8610 dates
      - The date should be formatted as YYYY-MM-DD
    todos:
      - add date string validation pattern

  end_date:
    range: string
    description: The date on which any process or activity was ended
    comments:
      - We are using string representations of dates until all components of our ecosystem can handle ISO 8610 dates
      - The date should be formatted as YYYY-MM-DD
    todos:
      - add date string validation pattern

#  #  nucleic_acid_concentration:
#  #    range: InstrumentValue

enums:

  DoiProviderEnum:
    see_also:
      - nmdc:DoiProviderEnum
      - nmdc:ProcessingInstitutionEnum
      - nmdc:ExecutionResourceEnum
    permissible_values:
      emsl:
        aliases:
          - Environmental Molecular Sciences Laboratory
          - EMSL
        title: EMSL
        meaning: https://ror.org/04rc0xn13
      jgi:
        aliases:
          - Joint Genome Institute
          - JGI
        title: JGI
        meaning: https://ror.org/04xm1d337
      kbase:
        aliases:
          - KBase
        title: KBase
        meaning: https://ror.org/01znn6x10
      osti:
        aliases:
          - Office of Scientific and Technical Information
          - OSTI
        title: OSTI
        meaning: https://ror.org/031478740
      ess_dive:
        aliases:
          - ESS-DIVE
          - Environmental System Science Data Infrastructure for a Virtual Ecosystem
        title: ESS-DIVE
        meaning: https://ror.org/01t14bp54
      massive:
        aliases:
          - MassIVE
          - Mass Spectrometry Virtual Environment
        title: MassIVE
      gsc:
        aliases:
          - GSC
          - Genomic Standards Consortium
        title: GSC
      zenodo:
        aliases:
          - Zenodo
        title: Zenodo
      edi:
        aliases:
          - EDI
          - Environmental Data Initiative
        title: EDI
        meaning: https://ror.org/0330j0z60

  DoiCategoryEnum:
    permissible_values:
      award_doi:
        description: A type of DOI that resolves to a funding authority.
      dataset_doi:
        description: A type of DOI that resolves to generated data.
      publication_doi:
        description: A type of DOI that resolves to a publication.
      data_management_plan_doi:
        description: A type of DOI that resolves to a data management plan.
    see_also:
      - https://schema.datacite.org/meta/kernel-4.4/doc/DataCite-MetadataKernel_v4.4.pdf
      - https://api.crossref.org/types
    comments:
      - See especially the resourceTypeGeneral section of the DataCite PDF, on pp48-53 as of 2023-07-19

  StatusEnum:
    permissible_values:
      pass: { }
      fail: { }
  #      accepted: { }
  #      archived: { }
  #      deleted: { }
  #      draft: { }
  #      rejected: { }
  #      submitted: { }
  #      superseded: { }
  #      withdrawn: { }

  AnalyteCategoryEnum:
    permissible_values:
      metagenome:
        aliases:
          - metaG
      metatranscriptome:
        aliases:
          - metaT
      metaproteome:
        aliases:
          - metaP
      metabolome:
        aliases:
          - metaB
      lipidome: { }
      nom:
        aliases:
          - natural organic matter

  DirectInfusionEnum:
    permissible_values:
      direct_infusion:
        aliases:
          - DI
      autosampler: { }

  ExtractionTargetEnum:
    permissible_values:
      DNA: { }
      RNA: { }
      metabolite: { }
      protein: { }

  ProcessingInstitutionEnum:
    notes:
      - use ROR meanings like https://ror.org/0168r3w48 for UCSD
    permissible_values:
      UCSD:
        title: University of California, San Diego
        meaning: https://ror.org/0168r3w48

      JGI:
        title: Joint Genome Institute
        meaning: https://ror.org/04xm1d337

      EMSL:
        title: Environmental Molecular Sciences Laboratory
        meaning: https://ror.org/04rc0xn13
        aliases:
          - Environmental Molecular Science Laboratory
          - Environmental Molecular Sciences Lab

      Battelle:
        title: Battelle Memorial Institute
        meaning: https://ror.org/01h5tnr73

      ANL:
        title: Argonne National Laboratory
        meaning: https://ror.org/05gvnxz63

      UCD_Genome_Center:
        title: University of California, Davis Genome Center
        meaning: https://genomecenter.ucdavis.edu/